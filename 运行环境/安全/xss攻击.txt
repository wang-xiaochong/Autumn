

XSS攻击分类

1.反射型
    服务端返回脚本，客户端执行
        譬如URL注入非法脚本，然后发送给受害用户(一般浏览器自带拦截过滤)
        譬如服务端返回的文本中包含非法脚本，被直接展示


2.存储型
    后台存储了非法脚本，并且前端直接展示
        譬如发帖中包含恶意代码的内容，其他用户访问到该内容后，满足特定条件即触发
        需要后台不过滤信息，并且前端展示时也不过滤信息


3.DOM-Based型
    基于DOM或本地的XSS攻击
        譬如wifi流量劫持，DNS劫持，并且直接返回钓鱼页面



XSS攻击存在原因
    对URL中的参数或用户输入的内容没有进行过滤
    完全充分过滤是实现不了的 白名单可以 但不现实

XSS攻击防范
    1.对输入进行过滤，对输出进行编码 cookie设置 http-only
        输入过滤：黑名单过滤 对输入内容中遇见<script>过滤 
    2.输出处理：可能截包 做转译 
         html转译：
            < : &lt;
            > : &gt;
            & : &amp;
            " : &quot;
            ' : &#39;
         json转译：
            \ : \\;
            / : \/;
            ; : ；
    3.cookie 设置为 http-only
      js脚本获取不到cookie 浏览器可以正常使用
      




